<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Chatbot</title>
    <style>
        /* CSS styles for the chatbox */
        #chatbox {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #f0f0f0;
            overflow-y: auto;
            height: 300px;
        }

        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 10px;
            font-size: 16px;
            max-width: 80%;
        }

        .user-message {
            color: #007bff;
            background-color: #e6f2ff;
            float: right;
            animation: fadein 0.5s ease-in-out;
        }

        .bot-message {
            color: #28a745;
            background-color: #e6ffe6;
            float: left;
            animation: fadein 0.5s ease-in-out;
        }

        .typing-indicator {
            position: relative;
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-left: 10px;
            background-color: transparent;
            overflow: hidden;
            animation: typing-indicator-animation 1s infinite ease-in-out;
        }

        .typing-dot {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #28a745;
            opacity: 0;
            animation: typing-dot-animation 1s infinite ease-in-out;
        }

        @keyframes typing-indicator-animation {
            0%, 50%, 100% { transform: translateX(0); }
            25% { transform: translateX(10px); }
        }

        @keyframes typing-dot-animation {
            0% { transform: translateY(-50%) scale(0); opacity: 1; }
            50% { opacity: 0.3; }
            100% { transform: translateY(-50%) scale(1); opacity: 1; }
        }

        @keyframes fadein {
            from { opacity: 0; }
            to   { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="chatbox">
        <!-- Chat messages will be displayed here -->
    </div>
    <input type="text" id="userInput" placeholder="Type your message...">
    <button onclick="sendMessage()">Send</button>

    <script>
        function sendMessage() {
            // Get user input
            var userInput = document.getElementById("userInput").value;

            // Display user message in the chatbox
            displayUserMessage(userInput);

            // Clear input field
            document.getElementById("userInput").value = "";

            // Simulate typing animation before bot responds
            setTimeout(function() {
                // Display typing indicator
                displayTypingIndicator();

                // Process user input and get AI response
                setTimeout(function() {
                    var aiResponse = getAIResponse(userInput);
                    // Hide typing indicator
                    hideTypingIndicator();
                    // Display AI response in the chatbox
                    displayBotMessage(aiResponse);
                }, 1500); // Delay before bot responds (1.5 seconds)
            }, 500); // Simulate typing animation delay (0.5 seconds)
        }

        function displayUserMessage(message) {
            // Create a new message element for user
            var messageElement = document.createElement("div");
            messageElement.classList.add("message");
            messageElement.classList.add("user-message");
            messageElement.textContent = "You: " + message;

            // Append message to the chatbox
            document.getElementById("chatbox").appendChild(messageElement);

            // Scroll to the bottom of the chatbox
            document.getElementById("chatbox").scrollTop = document.getElementById("chatbox").scrollHeight;
        }

        function displayBotMessage(message) {
            // Create a new message element for bot
            var messageElement = document.createElement("div");
            messageElement.classList.add("message");
            messageElement.classList.add("bot-message");
            messageElement.textContent = "Bot: " + message;

            // Append message to the chatbox
            document.getElementById("chatbox").appendChild(messageElement);

            // Scroll to the bottom of the chatbox
            document.getElementById("chatbox").scrollTop = document.getElementById("chatbox").scrollHeight;
        }

        function displayTypingIndicator() {
            // Create a new message element for typing indicator
            var typingIndicator = document.createElement("div");
            typingIndicator.classList.add("message");
            typingIndicator.classList.add("bot-message");
            typingIndicator.innerHTML = "Bot: <span class='typing-indicator'><span class='typing-dot'></span><span class='typing-dot'></span><span class='typing-dot'></span></span>";

            // Append typing indicator to the chatbox
            document.getElementById("chatbox").appendChild(typingIndicator);

            // Scroll to the bottom of the chatbox
            document.getElementById("chatbox").scrollTop = document.getElementById("chatbox").scrollHeight;
        }

        function hideTypingIndicator() {
            // Remove typing indicator from the chatbox
            var typingIndicator = document.querySelector(".typing-indicator");
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function getAIResponse(userInput) {
            // AI logic to generate response based on user input
            // For demo purpose, bot responds with the same message as the user
            return "Hmm... Let me think. Oh, I meant to say: " + userInput;
        }
    </script>
</body>
</html>
